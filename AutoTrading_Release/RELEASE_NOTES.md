# Release Notes - v4.7

**릴리스 날짜**: 2026-01-26
**버전**: 4.7

## 새로운 기능

### 1. 듀얼 마켓 지원
- 미국 주식과 한국 주식을 동시에 거래할 수 있는 통합 시스템
- 시장별 독립적인 토큰 관리 (US/KR 분리)
- 시장 시간 자동 감지 및 스케줄링

### 2. 강화된 토큰 관리
- OAuth2 토큰 자동 발급 및 갱신
- 24시간 제한 준수 (한국투자증권 정책)
- 토큰 파일 분리: `us_api_token.json`, `kr_api_token.json`
- 환경 변수를 통한 보안 강화

### 3. 자동화된 매매 전략
- 손절매 자동 실행
- 수익 목표 설정 및 자동 매도
- 스케줄 기반 매수/매도 체크

### 4. 모의투자 모드
- 실전 투자 전 안전한 테스트 환경
- 실제 API를 사용한 시뮬레이션
- 환경 변수로 쉽게 전환 가능

## 개선 사항

### 보안
- 환경 변수를 통한 API 키 관리
- .env 파일 템플릿 제공
- .gitignore 완전 설정 (토큰 파일 보호)

### 안정성
- 토큰 만료 자동 감지 및 재발급
- API 호출 실패 시 재시도 로직
- 상세한 에러 로깅

### 사용성
- 원클릭 설치: `setup.bat`
- 원클릭 실행: `start.bat`
- 상세한 사용자 매뉴얼 제공
- 한글 완전 지원

## 시스템 요구사항

- **OS**: Windows 10 이상
- **Python**: 3.8 ~ 3.11 (3.11 권장)
- **RAM**: 최소 4GB
- **저장공간**: 500MB 이상
- **인터넷**: 안정적인 연결 필수

## 설치 방법

1. **압축 해제**
   ```
   AutoTrading_v4.7_Release.zip 압축 해제
   ```

2. **setup.bat 실행**
   - 자동으로 모든 패키지 설치
   - .env 파일 생성 및 편집

3. **API 키 입력**
   - .env 파일에 한국투자증권 API 키 입력

4. **start.bat 실행**
   - 자동매매 시작

자세한 내용은 `README.md` 참조

## 파일 구조

```
AutoTrading_Release/
├── common/              # 공통 모듈 (토큰, 전략, API)
├── us/                  # 미국 주식 모듈
├── kr/                  # 한국 주식 모듈
├── main.py              # 메인 실행 파일
├── dual_market_scheduler.py  # 스케줄러
├── config.py            # 전역 설정
├── setup.bat            # 자동 설치 스크립트
├── start.bat            # 실행 스크립트
├── requirements.txt     # Python 패키지 목록
├── .env.example         # 환경 변수 템플릿
├── .gitignore           # Git 무시 목록
├── README.md            # 설치 가이드
├── USER_MANUAL.md       # 사용자 매뉴얼
└── RELEASE_NOTES.md     # 이 파일
```

## 알려진 이슈

### 토큰 24시간 제한
- 한국투자증권 API 정책으로 하루 1회만 토큰 재발급 가능
- 토큰 파일을 삭제하거나 손상시키지 않도록 주의

### Windows Credential Manager 경고
- Git push 시 "Unable to persist credentials" 경고 발생 가능
- 기능에는 영향 없음

## 문제 해결

### 자주 묻는 질문
자세한 문제 해결 방법은 `USER_MANUAL.md`의 "문제 해결" 섹션 참조

### 주요 로그 파일
- `trading.log`: 모든 거래 내역 및 오류
- `*_api_token.json`: API 토큰 파일 (자동 생성)

## 업그레이드 가이드

### 이전 버전에서 업그레이드
1. 기존 버전의 `.env` 파일 백업
2. 기존 버전의 토큰 파일 백업 (`*_token.json`)
3. 새 버전 압축 해제
4. 백업한 `.env` 파일 복사
5. 백업한 토큰 파일 복사 (옵션)
6. `start.bat` 실행

## 향후 계획

- 웹 대시보드 (실시간 수익률 확인)
- 고급 매매 전략 (RSI, MACD, 볼린저밴드)
- 텔레그램 알림 기능
- 백테스팅 기능
- 다중 계좌 지원

## 기여

이 프로젝트에 기여하고 싶으시면:
1. 이슈 리포트
2. 기능 제안
3. 버그 수정
4. 문서 개선

## 라이선스

이 소프트웨어는 개인 및 교육 목적으로 사용할 수 있습니다.
상업적 사용은 별도 협의가 필요합니다.

## 면책 조항

**중요**: 모든 투자 결정과 그로 인한 손실은 사용자의 책임입니다.
이 소프트웨어는 참고용으로만 사용하시고, 충분한 테스트 후 신중하게 사용하세요.

---

**개발**: Claude Code AI Agent
**버전**: v4.7
**릴리스 날짜**: 2026-01-26
