# ⚡ 빠른 시작 가이드 (5분 완성)

이 가이드를 따라하면 **5분 안에** 자동매매 시스템을 시작할 수 있습니다.

---

## 📋 체크리스트

- [ ] Python 3.8 이상 설치됨
- [ ] 한국투자증권 API 키 발급 완료
- [ ] 인터넷 연결 정상

---

## 1️⃣ 패키지 설치 (1분)

```bash
pip install -r requirements.txt
pip install mojito2
```

**완료 확인**: 오류 없이 설치 완료

---

## 2️⃣ API 인증 설정 (2분)

### Step 1: .env 파일 생성

```bash
copy .env.example .env
```

### Step 2: .env 파일 편집

메모장으로 `.env` 열고 다음 정보 입력:

```env
KIS_APP_KEY=발급받은_APP_KEY를_여기에
KIS_APP_SECRET=발급받은_APP_SECRET을_여기에
KIS_ACCOUNT_NUMBER=12345678-01
USE_PAPER_TRADING=True
```

**중요**:
- `KIS_ACCOUNT_NUMBER`는 하이픈 포함 (예: 12345678-01)
- 처음에는 반드시 `USE_PAPER_TRADING=True` (모의투자)

---

## 3️⃣ 종목 설정 (1분)

### 국장 (한국 주식)

`kr_stocks_config.json` 파일 확인:

```json
{
    "filter_stocks": {
        "005930": true,
        "000660": true,
        "035420": true
    },
    "watch_list": ["035720", "247540", "293490"]
}
```

**기본 설정으로 시작해도 됩니다!**

### 미장 (미국 주식)

`us_stocks_config.json` 파일 확인:

```json
{
    "NVDA": {"exchange": "NASDAQ"},
    "AMZN": {"exchange": "NASDAQ"},
    "MSFT": {"exchange": "NASDAQ"}
}
```

**기본 설정으로 시작해도 됩니다!**

---

## 4️⃣ 시작! (1분)

### 🌟 권장: 자동 시장 전환 모드

```bash
start_auto.bat
```

또는

```bash
python auto_market_scheduler.py
```

### 다른 실행 방법

#### 미국 주식만
```bash
python main.py
```

#### 한국 주식만
```bash
python main.py --market kr
```

#### 듀얼 마켓 (둘 다)
```bash
python main.py --market both
```

---

## 5️⃣ 시작 확인

시스템이 시작되면 다음 화면이 나타납니다:

```
================================================================================
🚀 한국투자증권 자동매매 시스템 v4.7
================================================================================
시작 시간: 2026-01-31 08:45:00
================================================================================

🔍 한국 주식 종목 검증 중...

================================================================================
🇰🇷 한국 주식 (국장) 설정
================================================================================
📌 거래 모드: 모의투자
📌 손절률: -10.0%
📌 재매수 금지: 50일
📌 목표 수익률: 5.0%

[필터 종목] - 이 종목들이 모두 상승해야 매수 실행
--------------------------------------------------------------------------------
✅ 005930: 확인됨
✅ 000660: 확인됨
✅ 035420: 확인됨
...

✅ 모든 설정이 정상입니다.

자동매매를 시작하시겠습니까?
  - Enter: 시작
  - q: 종료
================================================================================

입력:
```

**Enter를 누르면 시작됩니다!**

---

## ✅ 정상 작동 확인

### 로그 파일 확인

```bash
# PowerShell
Get-Content trading.log -Wait -Tail 20
```

또는 메모장으로 `trading.log` 파일 열기

### 정상 로그 예시

```
[INFO] === 자동 시장 전환 시스템 시작 ===
[INFO] [MODE] Paper Trading (모의투자)
[INFO] API 클라이언트 초기화 완료
[INFO] 토큰 발급 성공
[INFO] 현재 시장 확인 중...
```

---

## ❌ 문제 발생 시

### 1. 토큰 발급 실패

**증상**:
```
[ERROR] 토큰 발급 실패: 401 Unauthorized
```

**해결**:
- `.env` 파일의 API 키 확인
- 한국투자증권 포털에서 키 재확인
- 키에 공백이나 특수문자 없는지 확인

### 2. 종목 조회 실패

**증상**:
```
❌ [국장 필터] 005931: 종목 조회 실패
```

**해결**:
- 종목 코드 오타 확인
- `q` 입력하여 종료 후 JSON 파일 수정

### 3. 모듈 import 오류

**증상**:
```
ModuleNotFoundError: No module named 'mojito2'
```

**해결**:
```bash
pip install mojito2 --force-reinstall
pip install -r requirements.txt --force-reinstall
```

---

## 📚 다음 단계

시스템이 정상 작동하면:

1. **[국장 매매 설정 가이드](국장_매매_설정_가이드.md)** - 종목 변경, 손절률 조정
2. **[설정 빠른 참조](설정_빠른_참조.md)** - 주요 설정 치트시트
3. **[운영 메뉴얼](운영_메뉴얼.md)** - 상세 운영 가이드

---

## ⚠️ 중요 주의사항

### 1. 모의투자로 먼저 테스트

실전 투자 전에 **최소 1주일** 모의투자로 테스트하세요!

```env
USE_PAPER_TRADING=True  # 모의투자 (안전)
USE_PAPER_TRADING=False # 실전투자 (위험!)
```

### 2. 24시간 토큰 제한

한국투자증권 API는 **하루 1번만** 토큰 발급 가능합니다.
- 토큰 파일 삭제 금지!
- 프로그램은 자동으로 토큰 관리합니다

### 3. 거래 시간

- **한국 시장**: 09:00 - 15:30 (KST)
- **미국 시장**: 09:30 - 16:00 (ET) = 22:30/23:30 - 05:00/06:00 (KST)
  - 서머타임 자동 반영

### 4. 보안

- `.env` 파일 **절대 공유 금지**
- API 키 노출 시 즉시 재발급
- GitHub 업로드 금지 (.gitignore 설정됨)

---

## 🎯 빠른 명령어 모음

```bash
# 시작
start_auto.bat

# 로그 확인
Get-Content trading.log -Wait -Tail 20

# 정지
Ctrl + C

# 패키지 재설치
pip install -r requirements.txt --force-reinstall

# 설정 검증만 실행
python startup_validator.py
```

---

## 💡 팁

1. **첫 실행은 장 시작 30분 전**에 하세요 (설정 확인 시간 필요)
2. **폐장 시간에 테스트**하면 API 호출 없이 설정만 확인 가능
3. **로그 파일**을 항상 켜두면 문제 발생 시 원인 파악 쉬움
4. **예수금**은 충분히 준비 (종목당 최소 10만원 권장)

---

**버전**: v4.7
**최종 업데이트**: 2026-01-31
**소요 시간**: 5분
**난이도**: ⭐ 초보자
